<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Model input &mdash; WaTEM/SEDEM  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Model output" href="output.html" />
    <link rel="prev" title="Model extensions" href="model_extensions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            WaTEM/SEDEM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="model.html">Model Description</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="usage.html">Model Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rasterinfo.html">Rasters</a></li>
<li class="toctree-l2"><a class="reference internal" href="choices.html">Model Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="model_extensions.html">Model extensions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Model input</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#folders">Folders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#input-directory">input directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-directory">output directory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#files">Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dtm-filename">DTM filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parcel-filename">Parcel filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#p-factor-map-filename">P factor map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#k-factor-filename">K factor filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-factor-map-filename">C factor map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktc-map-filename">ktc map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#outlet-map-filename">Outlet map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktil-map-filename">ktil map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sewer-map-filename">Sewer map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tillage-direction-filename">Tillage direction filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#oriented-roughness-filename">Oriented roughness filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#buffer-map-filename">Buffer map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ditch-map-filename">Ditch map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dam-map-filename">Dam map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#river-segment-filename">River segment filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adjectant-segments">adjectant segments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upstream-segments">upstream segments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#river-routing-filename">river routing filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#routing-maps">Routing maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cn-map-filename">CN map filename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rainfall-filename">Rainfall filename</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#max-kernel">max kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-kernel-river">max kernel river</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bulk-density">bulk density</a></li>
<li class="toctree-l4"><a class="reference internal" href="#r-factor">R factor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parcel-connectivity-cropland">Parcel connectivity cropland</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parcel-connectivity-grasstrips">Parcel connectivity grasstrips</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parcel-connectivity-forest">Parcel connectivity forest</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parcel-trapping-efficiency-cropland">Parcel trapping efficiency cropland</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parcel-trapping-efficiency-pasture">Parcel trapping efficiency pasture</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parcel-trapping-efficiency-forest">Parcel trapping efficiency forest</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parameters-extensions">Parameters extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ktc-low">ktc low</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktc-high">ktc high</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktc-limit">ktc limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktil-default">ktil default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktil-threshold">ktil threshold</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ls-correction">LS correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sewer-exit">Sewer exit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clay-content-parent-material">Clay content parent material</a></li>
<li class="toctree-l4"><a class="reference internal" href="#day-antecedent-rainfall">5-day antecedent rainfall</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stream-velocity">stream velocity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alpha">alpha</a></li>
<li class="toctree-l4"><a class="reference internal" href="#beta">beta</a></li>
<li class="toctree-l4"><a class="reference internal" href="#desired-timestep-for-model">Desired timestep for model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#final-timestep-output">Final timestep output</a></li>
<li class="toctree-l4"><a class="reference internal" href="#endtime-model">Endtime model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#number-of-buffers">Number of buffers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#number-of-forced-routing">Number of forced routing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bufferdata">Bufferdata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forced-routing-data">Forced routing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calibration-data">Calibration data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ktchigh-lower">KTcHigh_lower</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktchigh-upper">KTcHigh_upper</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktclow-lower">KTcLow_lower</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ktclow-upper">KTcLow_upper</a></li>
<li class="toctree-l4"><a class="reference internal" href="#steps">steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Model output</a></li>
<li class="toctree-l2"><a class="reference internal" href="calibration.html">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="inifile.html">Summary <code class="docutils literal notranslate"><span class="pre">ini</span></code>-file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WaTEM/SEDEM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="usage.html">Model Usage</a></li>
      <li class="breadcrumb-item active">Model input</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/watem-sedem/watem-sedem/blob/master/docs/input.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="model_extensions.html" class="btn btn-neutral float-left" title="Model extensions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="output.html" class="btn btn-neutral float-right" title="Model output" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="model-input">
<span id="modelinput"></span><h1>Model input<a class="headerlink" href="#model-input" title="Permalink to this heading"></a></h1>
<p>This page describes all the possible model inputs. Both the model input for the basic
version of WaTEM/SEDEM as the input for the model extensions is described.</p>
<p>WaTEM/SEDEM accepts input files and parameters. Below, all possible input
layers and parameters are described. Somer parameters and input files are dependent on
the <a class="reference internal" href="choices.html#choicespage"><span class="std std-ref">choices</span></a> that were made by the user.</p>
<div class="section" id="folders">
<span id="id1"></span><h2>Folders<a class="headerlink" href="#folders" title="Permalink to this heading"></a></h2>
<div class="section" id="input-directory">
<span id="inputdir"></span><h3>input directory<a class="headerlink" href="#input-directory" title="Permalink to this heading"></a></h3>
<p>Path to the directory where all the input files, used by the model, can be found. If the path does not
exist, an exception is raised and the model run will stop.</p>
</div>
<div class="section" id="output-directory">
<span id="outputdir"></span><h3>output directory<a class="headerlink" href="#output-directory" title="Permalink to this heading"></a></h3>
<p>Path to the directory where all the model output files will be written. If the directory
does not exist, it is created by the model.</p>
</div>
</div>
<div class="section" id="files">
<span id="id2"></span><h2>Files<a class="headerlink" href="#files" title="Permalink to this heading"></a></h2>
<p>All input rasters must have
the same amount of columns, rows and cell size.
If one of the  input rasters has a different spatial extent, the model will
raise an exception and stop the execution. See
<a class="reference internal" href="rasterinfo.html#rasterformat"><span class="std std-ref">the section on the format</span></a> for more information.</p>
<div class="section" id="dtm-filename">
<span id="dtmmap"></span><h3>DTM filename<a class="headerlink" href="#dtm-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the raster with a digital terrain model (DTM). This raster must
contain an elevation value (in meters)for every pixel inside the model domain or
catchment.
The Idirisi raster must be formatted as float32.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>WaTEM/SEDEM does not take nodata values (e.g. -9999) into account. When a nodata
value in the DTM raster is encountered, it is considered as an elevation value.
Consequently, slopes will be calculated wrongly. Thus, the user must ensure that all
pixels in the model domain have an elevation value, and that at least two
pixels outside the model domain have a valid elevation value.</p>
</div>
</div>
<div class="section" id="parcel-filename">
<span id="prcmap"></span><h3>Parcel filename<a class="headerlink" href="#parcel-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the Parcel or Land cover map. WaTEM/SEDEM requires information about
land cover
and parcel boundaries in the routing algorithm, but also when distributing the
sediment through the model domain. Every pixel in the model domain must therefore contain
a land cover value. Every value &gt; 0 indicates a unique agricultural field. Meaning that
all pixels withing one agricultural field should have the same, unique value, while pixels belonging to
another parcel should have a different value. These unique parcel values are important to
define the routing within a parcel.</p>
<p>Pixels with a value &lt; 0 indicate land cover that is not an agricultural field. In the table below the
different land cover classes are shown.</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Land cover/use class</p></th>
<th class="head"><p>pixel id</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>agricultural fields</p></td>
<td><p>&gt; 0</p></td>
</tr>
<tr class="row-odd"><td><p>outside model domain</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>river</p></td>
<td><p>-1</p></td>
</tr>
<tr class="row-odd"><td><p>infrastructure</p></td>
<td><p>-2</p></td>
</tr>
<tr class="row-even"><td><p>forest</p></td>
<td><p>-3</p></td>
</tr>
<tr class="row-odd"><td><p>pasture</p></td>
<td><p>-4</p></td>
</tr>
<tr class="row-even"><td><p>open water</p></td>
<td><p>-5</p></td>
</tr>
<tr class="row-odd"><td><p>grass strips</p></td>
<td><p>-6</p></td>
</tr>
</tbody>
</table>
<p>The definition of these unique parcel values are important to define the routing
within a parcel. Note that the data type of this raster is integer 16.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1. The Parcel raster can contain only values between -32757 and 32757.
Therefore, only 32757 unique agricultural field id’s can be used in the
parcel map. When more parcel id’s are necessary (e.g. in very large
catchments), two or more agricultural fields can be assigned the same id.
Theoretically, the model will consider these two parcels as a single
parcel. In practice, these two parcels will never be treated as one
because chance that these parcels are adjacent parcels is negligibly small.</p>
<p>2. The concept of land use (agriculture, grass strips) and land cover
(river, infrastructure, forest, pasture) are used interchangeably in this
definition of the parcel raster. In this manual, we aim to define this as
land cover rather than land use.</p>
</div>
</div>
<div class="section" id="p-factor-map-filename">
<span id="pmap"></span><h3>P factor map filename<a class="headerlink" href="#p-factor-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the <a class="reference internal" href="watem-sedem.html#pfactor"><span class="std std-ref">P-factor</span></a> map.</p>
<p>The datatype of the raster is float32.</p>
</div>
<div class="section" id="k-factor-filename">
<span id="kmap"></span><h3>K factor filename<a class="headerlink" href="#k-factor-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the <a class="reference internal" href="watem-sedem.html#kfactor"><span class="std std-ref">K-factor</span></a> map. The soil erodibility factor or
K-factor of the RUSLE-equation for every pixel in the model domain is stored in
the K-factor map (in <span class="math notranslate nohighlight">\(kg.h.MJ^{-1}.mm^{-1}\)</span>).</p>
<p>The datatype of the K-factor raster map is integer16.</p>
</div>
<div class="section" id="c-factor-map-filename">
<span id="cmap"></span><h3>C factor map filename<a class="headerlink" href="#c-factor-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename  of the <a class="reference internal" href="watem-sedem.html#cfactor"><span class="std std-ref">C-factor</span></a> map. This raster contains values
between 0 and 1 and represent the dimensionless C-factor in the RUSLE equation.
Pixels outside the model domain are set to zero.</p>
<p>The datatype of the outlet map is float32.</p>
</div>
<div class="section" id="ktc-map-filename">
<span id="ktcmap"></span><h3>ktc map filename<a class="headerlink" href="#ktc-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the ktc map, a raster with transport capacity coefficients. This
raster is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#createktc"><span class="std std-ref">Create ktc map</span></a> is set to 0.</p>
<p>The dataype of the ktc map is float32.</p>
</div>
<div class="section" id="outlet-map-filename">
<span id="outletmap"></span><h3>Outlet map filename<a class="headerlink" href="#outlet-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the outlet map. This raster is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#manualoutlet"><span class="std std-ref">Manual outlet selection</span></a> is set to 1.</p>
<p>Every user defined river outlet needs a unique id (integers). The outlet pixels are given the value
of their respective id’s in the outlet map. All other pixels have a value equal to zero.</p>
<p>The datatype of the outlet map is integer16.</p>
</div>
<div class="section" id="ktil-map-filename">
<span id="ktilmap"></span><h3>ktil map filename<a class="headerlink" href="#ktil-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the ktil map. The ktil map contains values for ktil, the transport
capacity coefficient for tillage erosion (see <a class="reference internal" href="watem-sedem.html#tillageerosionmodel"><span class="std std-ref">here:</span></a> for
more information about ktil an the tillage erosion model).
This raster is only mandatory when <a class="reference internal" href="model_extensions.html#createktil"><span class="std std-ref">Create ktil map = 0</span></a>.</p>
<p>The datatype of the ktil map is integer16.</p>
</div>
<div class="section" id="sewer-map-filename">
<span id="sewermapfile"></span><h3>Sewer map filename<a class="headerlink" href="#sewer-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the sewer map. This raster is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#inlcudesewers"><span class="std std-ref">Include sewers</span></a> is set to 1.</p>
<p>All pixels in the sewer map should contain values between 0 and 1. These values represent
the fraction of the outgoing sediment in this pixel that is entering the sewer
system. A pixel with value 0 can be interpreted as a pixel where no sewer is
present.</p>
<p>The datatype of the sewer map is float32.</p>
</div>
<div class="section" id="tillage-direction-filename">
<span id="tildirmap"></span><h3>Tillage direction filename<a class="headerlink" href="#tillage-direction-filename" title="Permalink to this heading"></a></h3>
<p>The filename of a raster with the tillage direction in degrees to the North.
This raster is only mandatory if the :ref:<a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#includetillagedirection"><span class="std std-ref">Include tillage direction</span></a> is set to 1.</p>
<p>The datatype of the tillage direction raster is float32.</p>
</div>
<div class="section" id="oriented-roughness-filename">
<span id="orientedroughnessmap"></span><h3>Oriented roughness filename<a class="headerlink" href="#oriented-roughness-filename" title="Permalink to this heading"></a></h3>
<p>The filename of a raster with the oriented roughness. The oriented roughness is the
height of the microrelief (in cm) due to ploughing. This raster is only mandatory
if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#includetillagedirection"><span class="std std-ref">Include tillage direction</span></a> is set to 1.</p>
<p>The datatype of the oriented roughness raster is float32.</p>
</div>
<div class="section" id="buffer-map-filename">
<span id="buffermap"></span><h3>Buffer map filename<a class="headerlink" href="#buffer-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the buffer map. This raster is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#includebuffers"><span class="std std-ref">Include buffers</span></a> is set to 1.</p>
<p>The figure below shows an example of a buffermap with three buffer basins. The outlet
of every buffer is marked with a buffer id (1, 2 and 3 in this example). The
other pixels belonging to the buffer get the
<a class="reference internal" href="#bufferdata"><span class="std std-ref">extension id</span></a>. All other pixels in the raster are set to
zero.</p>
<div class="figure align-center" id="id11">
<img alt="_images/buffermap.png" src="_images/buffermap.png" />
<p class="caption"><span class="caption-text">Example of a buffermap with three buffer basins.</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</div>
<p>The datatype of the buffermap is integer16.</p>
</div>
<div class="section" id="ditch-map-filename">
<span id="ditchmap"></span><h3>Ditch map filename<a class="headerlink" href="#ditch-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the conductive ditch map.
This raster is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#includeditches"><span class="std std-ref">Include ditches</span></a> is set to 1.
See <a class="reference internal" href="#routingmap"><span class="std std-ref">further</span></a> for
more information on how to create these routing maps.</p>
</div>
<div class="section" id="dam-map-filename">
<span id="dammap"></span><h3>Dam map filename<a class="headerlink" href="#dam-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the conductive dam map.
This raster is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#includedams"><span class="std std-ref">Include dams</span></a> is set to 1. See <a class="reference internal" href="#routingmap"><span class="std std-ref">further</span></a> for more
information on how to create these routing map.</p>
</div>
<div class="section" id="river-segment-filename">
<span id="riversegmentfile"></span><h3>River segment filename<a class="headerlink" href="#river-segment-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the river segment map.
This raster is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#outputsegment"><span class="std std-ref">Output per river segment</span></a> is set to 1.</p>
<p>A river segment is a part of the river (usually a part between two confluences of the river
with its tributaries). If detailed information about the sediment
entering every river segment is requested, the user can make use of the river segment map option.</p>
<p>The river segment map is a raster where every river pixel (i.e. every pixel with value
-1 in the <a class="reference internal" href="#prcmap"><span class="std std-ref">parcel map</span></a>) gets the id of the segment where it
belongs to. Every segment has a unique (integer) id.</p>
<p>In the figure below, an example of a river segment map with seven segments is
given. All pixels which are no river pixels get the value 0.</p>
<div class="figure align-center" id="id12">
<img alt="_images/riversegment.png" src="_images/riversegment.png" />
<p class="caption"><span class="caption-text">Example of a river segment map with seven segments.</span><a class="headerlink" href="#id12" title="Permalink to this image"></a></p>
</div>
<p>The datatype of the river segment map is integer16.</p>
</div>
<div class="section" id="adjectant-segments">
<span id="adjsegments"></span><h3>adjectant segments<a class="headerlink" href="#adjectant-segments" title="Permalink to this heading"></a></h3>
<p>The filename of the Tab separated table with adjectant  river segments. T
his table is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#riverrouting"><span class="std std-ref">River routing</span></a> is set to 1. The table consists of two columns:
‘from’ and ‘to’. Every row indicates a connection between two segments:
segment <em>from</em> flows into segment <em>to</em>. The values in the table represent the
segment-ids of the <a class="reference internal" href="#riversegmentfile"><span class="std std-ref">river segment map</span></a>.</p>
<p>Based on the example <a class="reference internal" href="#riversegmentfile"><span class="std std-ref">river segment map</span></a>, an example
table with adjectant river segments is displayed below:</p>
<table class="docutils align-center" id="id13">
<caption><span class="caption-text">example adjectant segment file</span><a class="headerlink" href="#id13" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 63%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>from</p></th>
<th class="head"><p>to</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="upstream-segments">
<span id="upstrsegments"></span><h3>upstream segments<a class="headerlink" href="#upstream-segments" title="Permalink to this heading"></a></h3>
<p>The filename of the tab separated table with upstream segments.
This table is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#riverrouting"><span class="std std-ref">River routing</span></a> is set to 1. In the table three columns are present, namely:</p>
<ul class="simple">
<li><p>edge (integer): segment id of the receiving segment</p></li>
<li><p>upstream edge (integer): segment id of one of the upstream segments of <em>edge</em></p></li>
<li><p>proportion (float, between 0 and 1): the fraction of the upstream segment that
flows into the considered downstream segment. If the fraction is &lt; 1, the
upstream segment should flow into two downstream segments adding up to 1.</p></li>
</ul>
<p>Based on the example <a class="reference internal" href="#riversegmentfile"><span class="std std-ref">river segment map</span></a>, an example
table with adjectant upstream segments is displayed below:</p>
<table class="docutils align-center" id="id14">
<caption><span class="caption-text">example upstream segment file</span><a class="headerlink" href="#id14" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 47%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>edge</p></th>
<th class="head"><p>upstream edge</p></th>
<th class="head"><p>proportion</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>6</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>1</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>6</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>1</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>2</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>3</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>4</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>6</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>7</p></td>
<td><p>1.0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="river-routing-filename">
<span id="riverroutingmap"></span><h3>river routing filename<a class="headerlink" href="#river-routing-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the river routing map. This raster is only mandatory if the
<a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#riverrouting"><span class="std std-ref">River routing = 1</span></a> is set to 1.
See <a class="reference internal" href="#routingmap"><span class="std std-ref">further</span></a> for more information on how to create these routing maps.</p>
</div>
<div class="section" id="routing-maps">
<span id="routingmap"></span><h3>Routing maps<a class="headerlink" href="#routing-maps" title="Permalink to this heading"></a></h3>
<p>The routing algorithm of WaTEM/SEDEM can take into account rasters that impose a
single-flow routing along a line element in the
landscape as defined by the user. The
<a class="reference internal" href="#riverroutingmap"><span class="std std-ref">river routing map</span></a>, <a class="reference internal" href="#ditchmap"><span class="std std-ref">ditchmap</span></a> and
<a class="reference internal" href="#dammap"><span class="std std-ref">dam map</span></a> are made according to the principles described below.</p>
<p>A routing map contains integer values between 0 and 8. Every value indicates the
direction which the routing should follow. A pixel set to zero has no imposed routing.</p>
<p>Consider pixel X in the figure below. If the routing must flow from X to the
upper cardinal cell, pixel X will get value 1 in the routing map. If the routing
must flow from X to the lower left pixel, X will get value 6. All other
directions are set in the same way, according to the numbers in the figure.</p>
<div class="figure align-center" id="id15">
<img alt="_images/direction_routingmap.png" src="_images/direction_routingmap.png" />
<p class="caption"><span class="caption-text">Definition of flow routing.</span><a class="headerlink" href="#id15" title="Permalink to this image"></a></p>
</div>
<p>An example of a routing map with two imposed routings is given here:</p>
<div class="figure align-center" id="id16">
<img alt="_images/routingmap.png" src="_images/routingmap.png" />
<p class="caption"><span class="caption-text">Example of a routing map</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</div>
<p>The datatype of a routing raster is integer16.</p>
</div>
<div class="section" id="cn-map-filename">
<span id="cnmap"></span><h3>CN map filename<a class="headerlink" href="#cn-map-filename" title="Permalink to this heading"></a></h3>
<p>The filename of the CN map. This raster is only mandatory if the
<a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
<p>This raster contains a CN-value (between 0 and 100) for every pixel in the model
domain.</p>
<p>The datatype of the CN raster is float32.</p>
</div>
<div class="section" id="rainfall-filename">
<span id="rainfallfile"></span><h3>Rainfall filename<a class="headerlink" href="#rainfall-filename" title="Permalink to this heading"></a></h3>
<p>Filename of a textfile with rainfall values. The text file contains a table
(tab-delimited) with two columns without header. The first column contains the
time in minutes (starting from 0), the second column contains the rainfall in mm.
The rainfall of the first timestamp must be zero.</p>
</div>
</div>
<div class="section" id="parameters">
<span id="variables"></span><h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<p>This section describes all parameters that can be used to make a basic WaTEM/SEDEM run,
without the use of any extensions.</p>
<div class="section" id="max-kernel">
<span id="maxkernel"></span><h3>max kernel<a class="headerlink" href="#max-kernel" title="Permalink to this heading"></a></h3>
<p>If the routing algorithm of WaTEM/SEDEM encounters a local minimum in the
<a class="reference internal" href="#dtmmap"><span class="std std-ref">digital elevation model,</span></a> it will not find a lower, neighbouring
pixel. Therefore, the algorithm is set to search for a lower pixel within a search
radius around the local minimum (see <a class="reference internal" href="routing.html#onetarget"><span class="std std-ref">routing algorithm</span></a>.
The variable ‘max kernel’ defines this search
radius expressed in pixels.</p>
</div>
<div class="section" id="max-kernel-river">
<span id="maxkernelriver"></span><h3>max kernel river<a class="headerlink" href="#max-kernel-river" title="Permalink to this heading"></a></h3>
<p>If the routing algorithm of WaTEM/SEDEM encounters a local minimum in the
<a class="reference internal" href="#dtmmap"><span class="std std-ref">digital elevation model</span></a> it will not find a lower, neighbouring
pixel. If this pixel is a river pixel, the routing will remain in the river and
the routing will look within a search radius around the local minimum with the
same landuse (river). The variable ‘max kernel river’ defines the search radius
expressed in pixels.</p>
</div>
<div class="section" id="bulk-density">
<span id="bulkdensity"></span><h3>bulk density<a class="headerlink" href="#bulk-density" title="Permalink to this heading"></a></h3>
<p>The average bulk density (in <span class="math notranslate nohighlight">\(kg.m{-3}\)</span>) of the soil in the catchment
(as integer). This value is used to convert the mass of the transported sediment to
volumes. A good default value for Flanders is 1350 kg/m³.</p>
</div>
<div class="section" id="r-factor">
<span id="rfactor-var"></span><h3>R factor<a class="headerlink" href="#r-factor" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="watem-sedem.html#rfactor"><span class="std std-ref">R-factor</span></a> or rainfall erosivity factor in the RUSLE
equation (float, in <span class="math notranslate nohighlight">\(MJ.mm.ha{-1}.h{-1}.year{-1}\)</span>).
This input is mandatory, except <em>except</em> if the <a class="reference internal" href="choices.html#choicespage"><span class="std std-ref">Model Choice</span></a>:
<a class="reference internal" href="choices.html#onlyrouting"><span class="std std-ref">Only routing</span></a> is set to 1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1. the user must make sure that the R and C-factor are calculated for the same
time span (year, month, week,…).</p>
<p>2. R-factor values can be computed with the
<a class="reference external" href="https://watem-sedem.github.io/rfactor/">R-factor Python package</a>.</p>
</div>
</div>
<div class="section" id="parcel-connectivity-cropland">
<span id="parcelconncrop"></span><h3>Parcel connectivity cropland<a class="headerlink" href="#parcel-connectivity-cropland" title="Permalink to this heading"></a></h3>
<p>The ‘parcel connectivity cropland’ expresses the reduction of the upstream area (<span class="math notranslate nohighlight">\(A_{pixel}\)</span>)
at a parcel boundary. It is an integer value between 0 and 100. The reduction
on the upstream area is applied when the target pixel is of the land cover
‘cropland’ (<a class="reference internal" href="#prcmap"><span class="std std-ref">Parcel map value</span></a>: &gt;0).</p>
<div class="math notranslate nohighlight">
\[A_{pixel} =  A_{pixel}\frac{connectivity_{cropland}}{100}\]</div>
</div>
<div class="section" id="parcel-connectivity-grasstrips">
<span id="parcelconngras"></span><h3>Parcel connectivity grasstrips<a class="headerlink" href="#parcel-connectivity-grasstrips" title="Permalink to this heading"></a></h3>
<p>The ‘parcel connectivity grasstrips’ expresses the reduction of the upstream area (<span class="math notranslate nohighlight">\(A_{pixel}\)</span>)
at the boundary between a parcel and a grasstrip. It is an integer value between 0
and 100. The reduction on the upstream area is applied when the target pixel is
of the land cover ‘grasstrip’ (<a class="reference internal" href="#prcmap"><span class="std std-ref">Parcel map value</span></a>: -6). The default value for this parameter is 100.</p>
<div class="math notranslate nohighlight">
\[A_{pixel} =  A_{pixel}\frac{connectivity_{grasstrip}}{100}\]</div>
</div>
<div class="section" id="parcel-connectivity-forest">
<span id="parcelconnforest"></span><h3>Parcel connectivity forest<a class="headerlink" href="#parcel-connectivity-forest" title="Permalink to this heading"></a></h3>
<p>The ‘parcel connectivity forest’ expresses the reduction of the upstream area (<span class="math notranslate nohighlight">\(A_{pixel}\)</span>)
at a boundary of a forest. It is an integer value between 0 and 100. The
reduction on the upstream area is applied when the target pixel is of the
land cover ‘forest’ (<a class="reference internal" href="#prcmap"><span class="std std-ref">Parcel map value</span></a>: -3).</p>
<div class="math notranslate nohighlight">
\[A_{pixel} =  A_{pixel}\frac{connectivity_{forest}}{100}\]</div>
</div>
<div class="section" id="parcel-trapping-efficiency-cropland">
<span id="parceltrapppingcrop"></span><h3>Parcel trapping efficiency cropland<a class="headerlink" href="#parcel-trapping-efficiency-cropland" title="Permalink to this heading"></a></h3>
<p>The parcel trapping efficiency (PTEF) is used to compute the upstream area for
every raster pixel (<span class="math notranslate nohighlight">\(A_{pixel}\)</span>) (see also <a class="reference internal" href="choices.html#lmodel"><span class="std std-ref">L-model</span></a>). The PTEF also
takes the land-use, defined by <a class="reference internal" href="#prcmap"><span class="std std-ref">the parcels raster</span></a>, into account.
This then, contributes to the upstream area by a
given percentage (100-PTEF).</p>
<p>The parcel trapping efficiency for cropland is
defined by the ‘Parcel trapping efficiency cropland’ (in % as integer; e.g. PTEF = 87).</p>
<div class="math notranslate nohighlight">
\[A_{pixel} =  res^2(1-\frac{PTEF_{cropland}}{100})\]</div>
</div>
<div class="section" id="parcel-trapping-efficiency-pasture">
<span id="parceltrappingpasture"></span><h3>Parcel trapping efficiency pasture<a class="headerlink" href="#parcel-trapping-efficiency-pasture" title="Permalink to this heading"></a></h3>
<p>The parcel trapping efficiency for pasture is defined by the ‘Parcel trapping
efficiency pasture’ (in % as integer e.g. PTEF = 25). For a definition of the Parcel trapping
efficiency, see
<a class="reference internal" href="#parceltrapppingcrop"><span class="std std-ref">Parcel trapping efficiency cropland</span></a></p>
</div>
<div class="section" id="parcel-trapping-efficiency-forest">
<span id="parceltrappingforest"></span><h3>Parcel trapping efficiency forest<a class="headerlink" href="#parcel-trapping-efficiency-forest" title="Permalink to this heading"></a></h3>
<p>The parcel trapping efficiency for forest is defined by the ‘Parcel trapping
efficiency forest’ (in % as integer e.g. PTEF = 25). For a definition of the Parcel trapping
efficiency, see
<a class="reference internal" href="#parceltrapppingcrop"><span class="std std-ref">Parcel trapping efficiency cropland</span></a></p>
</div>
</div>
<div class="section" id="parameters-extensions">
<h2>Parameters extensions<a class="headerlink" href="#parameters-extensions" title="Permalink to this heading"></a></h2>
<p>This section contains all parameters that are used within model extensions. For every
parameter in this section a description is given about the meaning of the parameter and
when to use it (i.e. in combination with which extension).</p>
<div class="section" id="ktc-low">
<span id="ktclow"></span><h3>ktc low<a class="headerlink" href="#ktc-low" title="Permalink to this heading"></a></h3>
<p>ktc low is the transport capacity coefficient (as float) for pixels with a low
erosion potential (see <a class="reference internal" href="#ktclimit"><span class="std std-ref">ktc limit</span></a>).
The parameter is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#createktc"><span class="std std-ref">Create ktc map</span></a> is set to 1.</p>
</div>
<div class="section" id="ktc-high">
<span id="ktchigh"></span><h3>ktc high<a class="headerlink" href="#ktc-high" title="Permalink to this heading"></a></h3>
<p>ktc high is the transport capacity coefficient (float) for pixels with a high
erosion potential (see <a class="reference internal" href="#ktclimit"><span class="std std-ref">ktc limit</span></a>). The parameter is only mandatory if
the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>: <a class="reference internal" href="model_extensions.html#createktc"><span class="std std-ref">Create ktc map</span></a> is set to 1.</p>
</div>
<div class="section" id="ktc-limit">
<span id="ktclimit"></span><h3>ktc limit<a class="headerlink" href="#ktc-limit" title="Permalink to this heading"></a></h3>
<p>ktc limit is a threshold value (float). Pixels with a C-factor higher than
ktc limit will get the value of <a class="reference internal" href="#ktchigh"><span class="std std-ref">ktc high</span></a> in the ktc map,
pixels with a C-factor below ktc limit, will get <a class="reference internal" href="#ktclow"><span class="std std-ref">ktc low</span></a> in the
ktc map. This parameter is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>
<a class="reference internal" href="model_extensions.html#createktc"><span class="std std-ref">Create ktc map</span></a> is set to 1 or <a class="reference internal" href="model_extensions.html#calibrate"><span class="std std-ref">Calibrate = 1</span></a></p>
</div>
<div class="section" id="ktil-default">
<span id="ktildefault"></span><h3>ktil default<a class="headerlink" href="#ktil-default" title="Permalink to this heading"></a></h3>
<p>The transport capacity coefficient for tillage erosion on agricultural fields.
This value (as integer) should be expressed in <span class="math notranslate nohighlight">\(kg.m{-1}.year{-1}\)</span>.
A recommended default value is <span class="math notranslate nohighlight">\(600 kg.m{-1}.year{-1}\)</span>.</p>
<p>This parameter is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#createktil"><span class="std std-ref">Create ktil map</span></a> is set to 1.</p>
</div>
<div class="section" id="ktil-threshold">
<span id="ktilthres"></span><h3>ktil threshold<a class="headerlink" href="#ktil-threshold" title="Permalink to this heading"></a></h3>
<p>ktil threshold is a float between 0 and 1. Pixels with a C-factor higher than
ktil threshold will get the value of <a class="reference internal" href="#ktildefault"><span class="std std-ref">ktil default</span></a> in the ktil map,
pixels with a C-factor below ktil threshold, are set to 0. A typical value for
ktil threshold is 0.01.</p>
<p>This parameter is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#createktil"><span class="std std-ref">Create ktil map</span></a> is set to 1.</p>
</div>
<div class="section" id="ls-correction">
<span id="lscorrection"></span><h3>LS correction<a class="headerlink" href="#ls-correction" title="Permalink to this heading"></a></h3>
<p>Notebaert et al. (2005) describes that changes in spatial resolution have major
scaling effects on topographic variables like the <a class="reference internal" href="watem-sedem.html#lsfactor"><span class="std std-ref">L and S-factor</span></a>.</p>
<p>The LS-factor will
decrease on a higher resolution (smaller pixels, more height information) and
extreme LS values will occur more. To be able to compare the calculated RUSLE
values on different spatial resolutions, a correction factor can be calculated.
This correction factor <span class="math notranslate nohighlight">\(LS_{cor}\)</span> is calculated as:</p>
<div class="math notranslate nohighlight">
\[LS_{cor} = \frac{LS_{avg,x}}{LS_{avg,y}}\]</div>
<p>with</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(LS_{avg,x}\)</span>: the average LS factor in a catchment on resolution x</p></li>
<li><p><span class="math notranslate nohighlight">\(LS_{avg,y}\)</span>: the average LS factor in a catchment on resolution y</p></li>
</ul>
<p>The input variable is a float (default value 1, i.e. no correction).
The LS-factor in the model is divided by this variable.</p>
</div>
<div class="section" id="sewer-exit">
<span id="sewerexit"></span><h3>Sewer exit<a class="headerlink" href="#sewer-exit" title="Permalink to this heading"></a></h3>
<p>An integer value between 0 and 100 that represents the fration of the discharge
that enters the sewer system. It is only applied on pixels where the
<a class="reference internal" href="#sewermapfile"><span class="std std-ref">sewer map</span></a> is not zero.</p>
<p>This variable is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extensions</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> and <a class="reference internal" href="model_extensions.html#inlcudesewers"><span class="std std-ref">Include sewers</span></a> are set to 1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1. The values stored in the <a class="reference internal" href="#sewermapfile"><span class="std std-ref">sewer map</span></a> are not used in the
discharge calculations of the CN module. The sewer map is only used to check
if a pixel is a sewer or not.</p>
<p>2. In the sediment calculations, a different trapping efficiency for every sewer
pixel in the model can be defined, but this is not the case in the discharge
calculations.</p>
</div>
</div>
<div class="section" id="clay-content-parent-material">
<span id="claycontent"></span><h3>Clay content parent material<a class="headerlink" href="#clay-content-parent-material" title="Permalink to this heading"></a></h3>
<p>The average fraction of clay in the soil of the modelled catchment (in
decimals; float32, between 0 and 1). This variable is only mandatory if the
<a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>: <a class="reference internal" href="model_extensions.html#estimclay"><span class="std std-ref">estimate clay content</span></a> is set
to 1.</p>
</div>
<div class="section" id="day-antecedent-rainfall">
<span id="dayrainfall"></span><h3>5-day antecedent rainfall<a class="headerlink" href="#day-antecedent-rainfall" title="Permalink to this heading"></a></h3>
<p>The total rainfall (in mm) during 5 days before the start of the rainfall event.
This variable is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
</div>
<div class="section" id="stream-velocity">
<span id="streamvelocity"></span><h3>stream velocity<a class="headerlink" href="#stream-velocity" title="Permalink to this heading"></a></h3>
<p>As float, only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
</div>
<div class="section" id="alpha">
<span id="id3"></span><h3>alpha<a class="headerlink" href="#alpha" title="Permalink to this heading"></a></h3>
<p>Alpha (as float) is a calibration parameter of the CN-model. It determines the relation
between the runoff and the rainfall intensity. This parameter is only mandatory if the
<a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>: <a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
</div>
<div class="section" id="beta">
<span id="id4"></span><h3>beta<a class="headerlink" href="#beta" title="Permalink to this heading"></a></h3>
<p>Beta (as float) is a calibration parameter of the CN-model. It determines the
relation between the runoff and the antecedent rainfall. This parameter is
only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
</div>
<div class="section" id="desired-timestep-for-model">
<span id="timestep"></span><h3>Desired timestep for model<a class="headerlink" href="#desired-timestep-for-model" title="Permalink to this heading"></a></h3>
<p>Runoff calculations are done using this timestep. The given timestep must comply
with the Courant Criterium. This criterium limits the timestep as a function of
the spatial resolution (m) and the stream velocity of water over land (m/s).</p>
<div class="math notranslate nohighlight">
\[dt \leq \frac{spatial   resolution}{stream   velocity}\]</div>
<p>The parameter is an integer value expressed in minutes and is
only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
</div>
<div class="section" id="final-timestep-output">
<span id="finaltimestep"></span><h3>Final timestep output<a class="headerlink" href="#final-timestep-output" title="Permalink to this heading"></a></h3>
<p>The user has the option to resample the time-dependent output (runoff, sediment
concentration, sediment load) to a different timestep than the
<a class="reference internal" href="#timestep"><span class="std std-ref">Desired timestep</span></a> of the model. The parameter is an integer value
expressed in minutes and is
only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
</div>
<div class="section" id="endtime-model">
<span id="endtime"></span><h3>Endtime model<a class="headerlink" href="#endtime-model" title="Permalink to this heading"></a></h3>
<p>Total timespan (in minutes) the model has to simulate. This parameter is an
integer value and must be a multiple of the <a class="reference internal" href="#timestep"><span class="std std-ref">timestep</span></a> of the
model.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In a first model run for a catchment with a given rainfall event, a large enough endtime should be given.
This, in order to ensure that the
whole runoff peak is modelled. After the first simulation, the model user
can shorten the endtime to optimise the calculation time of the model.</p>
</div>
<p>This parameter is
only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1.</p>
</div>
<div class="section" id="number-of-buffers">
<span id="nrbuffers"></span><h3>Number of buffers<a class="headerlink" href="#number-of-buffers" title="Permalink to this heading"></a></h3>
<p>The amount of buffers present in the <a class="reference internal" href="#buffermap"><span class="std std-ref">buffer map</span></a> is given in
this parameter (as integer). The parameter is only mandatory if the
<a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>: <a class="reference internal" href="model_extensions.html#includebuffers"><span class="std std-ref">Include buffers</span></a> is set
to 1.</p>
</div>
<div class="section" id="number-of-forced-routing">
<span id="nrforcedrouting"></span><h3>Number of forced routing<a class="headerlink" href="#number-of-forced-routing" title="Permalink to this heading"></a></h3>
<p>The amount of locations where the user wants to force the routing is given by this
parameter (as integer). This variable defines the number of
<a class="reference internal" href="#forcedroutingdata"><span class="std std-ref">forced routing sections</span></a> in the
ini-file.
This variable is only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#forcerouting"><span class="std std-ref">Force Routing</span></a> is set to 1.</p>
</div>
</div>
<div class="section" id="bufferdata">
<span id="id5"></span><h2>Bufferdata<a class="headerlink" href="#bufferdata" title="Permalink to this heading"></a></h2>
<p>The inclusion of erosion control buffers is based on input rasters and
buffer parameters. How these input rasters should be created, is described
<a class="reference internal" href="#buffermap"><span class="std std-ref">here</span></a>. If the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#includebuffers"><span class="std std-ref">include buffers</span></a> is set to 1,
the buffer parameters must be defined in the ini-file in the following manner:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Buffer 1]</span>
<span class="na">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">329.0</span>
<span class="na">height dam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.37</span>
<span class="na">height opening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0</span>
<span class="na">opening area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.03</span>
<span class="na">discharge coefficient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.6</span>
<span class="na">width dam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">7</span>
<span class="na">trapping efficiency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">75</span>
<span class="na">extension id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">16385</span>

<span class="k">[Buffer 2]</span>
<span class="na">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1123.0</span>
<span class="na">height dam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1.5</span>
<span class="na">height opening</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0</span>
<span class="na">opening area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.03</span>
<span class="na">discharge coefficient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.6</span>
<span class="na">width dam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">7</span>
<span class="na">trapping efficiency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">75</span>
<span class="na">extension id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">16386</span>
</pre></div>
</div>
<p>with:</p>
<blockquote>
<div><ul class="simple">
<li><p>volume: the maximum volume of water that can be trapped in the
bufferbasin, <span class="math notranslate nohighlight">\(V_{basin}\)</span> (<span class="math notranslate nohighlight">\(m^{3}\)</span>).</p></li>
<li><p>height dam: the height of the dam of the buffer basin, <span class="math notranslate nohighlight">\(H_{dam}\)</span>
(<span class="math notranslate nohighlight">\(m\)</span>).</p></li>
<li><p>height opening: the height of the opening of the discharge pipe of the
basin, <span class="math notranslate nohighlight">\(H_{opening}\)</span> (m).</p></li>
<li><p>opening area: the area of the discharge opening <span class="math notranslate nohighlight">\(A_0\)</span> (<span class="math notranslate nohighlight">\(m^{2}\)</span>).</p></li>
<li><p>discharge coefficient: the discharge coefficient <span class="math notranslate nohighlight">\(C_d\)</span> (-) of the
buffer basin.</p></li>
<li><p>width dam: the width of the overflow on the bufferbasin dam
<span class="math notranslate nohighlight">\(W_{dam}\)</span> (m).</p></li>
<li><p>trapping efficiency: the trapping efficiency is the fraction of the incoming
sediment that is trapped.</p></li>
<li><p>extension id of a buffer is calculated as the buffer id + 16384. It is an
integer value. All pixels of the buffer in the <a class="reference internal" href="#buffermap"><span class="std std-ref">buffer map</span></a>
are given the value of the extension id, except the outlet pixel.</p></li>
</ul>
</div></blockquote>
<p>The extension id and trapping efficiency are mandatory for every buffer.
The other buffer parameters are only mandatory when the the CN-module seperately
(i.e. the <a class="reference internal" href="choices.html#choicespage"><span class="std std-ref">Model Choice</span></a>: <a class="reference internal" href="model_extensions.html#simple"><span class="std std-ref">Curve number</span></a> is set to 1).</p>
<p>Note that the amount of sections with
buffer data has to be defined with the variable <a class="reference internal" href="#nrbuffers"><span class="std std-ref">Number of buffers</span></a>.</p>
<p>A full description of the CN calculation in buffers can be found
<a class="reference internal" href="cn-ws.html#bufferbasins"><span class="std std-ref">here</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The definition of the buffer extension id equal to buffer id + 16384,
implies only 16384 buffer basins can be modelled.</p>
</div>
</div>
<div class="section" id="forced-routing-data">
<span id="forcedroutingdata"></span><h2>Forced routing data<a class="headerlink" href="#forced-routing-data" title="Permalink to this heading"></a></h2>
<p>In the case that the analysis of the routing and field validation shows that the
routing is defined incorrectly by the model, a forced routing from a specified source to target pixel can be defined by
the user. Forced routing is defined by stating the column and
row of both the source and target pixel in the ini-file, as shown here:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Forced Routing 1]</span>
<span class="na">from col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10</span>
<span class="na">from row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10</span>
<span class="na">target col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">11</span>
<span class="na">target row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">11</span>

<span class="k">[Forced Routing 2]</span>
<span class="na">from col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">15</span>
<span class="na">from row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">16</span>
<span class="na">target col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">20</span>
<span class="na">target row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">19</span>
</pre></div>
</div>
<p>Note that the amount of sections with
forced routing vectors has to be defined with the variable
<a class="reference internal" href="#nrforcedrouting"><span class="std std-ref">Number of forced routing</span></a></p>
</div>
<div class="section" id="calibration-data">
<span id="calibrationparamters"></span><h2>Calibration data<a class="headerlink" href="#calibration-data" title="Permalink to this heading"></a></h2>
<p>The following parameters are only mandatory if the <a class="reference internal" href="model_extensions.html#extensionspage"><span class="std std-ref">Model extension</span></a>:
<a class="reference internal" href="model_extensions.html#calibrate"><span class="std std-ref">Calibrate</span></a> is set to 1 .
These parameters must be grouped in a seperate section in the ini-file with the
header ‘Calibration’, as shown here:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Calibration]</span>
<span class="na">KTcHigh_lower</span><span class="o">=</span><span class="s">1</span>
<span class="na">KTcHigh_upper</span><span class="o">=</span><span class="s">20</span>
<span class="na">KTcLow_lower</span><span class="o">=</span><span class="s">1</span>
<span class="na">KTcLow_upper</span><span class="o">=</span><span class="s">20</span>
<span class="na">steps</span><span class="o">=</span><span class="s">20</span>
</pre></div>
</div>
<div class="section" id="ktchigh-lower">
<span id="id6"></span><h3>KTcHigh_lower<a class="headerlink" href="#ktchigh-lower" title="Permalink to this heading"></a></h3>
<p>The lower range of ktc-high values in the calibration mode. The value is a float
and by default 5.</p>
</div>
<div class="section" id="ktchigh-upper">
<span id="id7"></span><h3>KTcHigh_upper<a class="headerlink" href="#ktchigh-upper" title="Permalink to this heading"></a></h3>
<p>The upper range of ktc-high values in the calibration mode. The value is a float
and by default 40.</p>
</div>
<div class="section" id="ktclow-lower">
<span id="id8"></span><h3>KTcLow_lower<a class="headerlink" href="#ktclow-lower" title="Permalink to this heading"></a></h3>
<p>The lower range of ktc-low values in the calibration mode. The value is a float
and by default 1.</p>
</div>
<div class="section" id="ktclow-upper">
<span id="id9"></span><h3>KTcLow_upper<a class="headerlink" href="#ktclow-upper" title="Permalink to this heading"></a></h3>
<p>The upper range of ktc-low values in the calibration mode. The value is a float
and by default 20.</p>
</div>
<div class="section" id="steps">
<span id="id10"></span><h3>steps<a class="headerlink" href="#steps" title="Permalink to this heading"></a></h3>
<p>The amount of steps between the lower and upper values for ktc low and ktc high
during a calibration run. This value is an integer and by default 12.</p>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<p>Notebaert, B,. Govers, G.n Verstraeten, G., Van Oost, K., Ruysschaert, G.,
Poesen, J., Van Rompay, A. (2005): Verfijnde ersoiekaart Vlaanderen: eindrapport,
Departement Omgeving, Brussel, 53 pp.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="model_extensions.html" class="btn btn-neutral float-left" title="Model extensions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="output.html" class="btn btn-neutral float-right" title="Model output" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Van de Wauw Johan, Renders Daan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>